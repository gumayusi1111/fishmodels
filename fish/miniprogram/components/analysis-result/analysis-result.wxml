<view class="result-container" wx:if="showResult && result">
  <!-- åª’ä½“é¢„è§ˆåŒºåŸŸ -->
  <view class="media-preview">
    <image wx:if="mediaType === 'image'" src="{{mediaUrl}}" class="preview-image" mode="aspectFit"></image>
    <video wx:elif="mediaType === 'video'" src="{{mediaUrl}}" class="preview-video" controls></video>
  </view>

  <!-- åˆ†æç»“æœå¡ç‰‡ -->
  <view class="result-cards">
    <!-- 1. ç‰©ç§ä¿¡æ¯å¡ç‰‡ -->
    <view class="result-card species-card" wx:if="result.species">
      <view class="card-header">
        <view class="card-icon species-icon">ğŸ </view>
        <view class="card-title-section">
          <text class="card-title">ç‰©ç§é‰´å®š</text>
          <view class="confidence-badge" wx:if="result.confidence">
            <text class="confidence-text">{{result.confidence}}%</text>
          </view>
        </view>
      </view>
      <view class="card-content">
        <view class="info-item primary">
          <text class="species-name">{{result.species}}</text>
        </view>
        <view class="info-item" wx:if="result.description">
          <text class="info-label">æè¿°</text>
          <text class="info-value">{{result.description}}</text>
        </view>
        <view class="info-item" wx:if="result.habitat">
          <text class="info-label">æ –æ¯åœ°</text>
          <text class="info-value">{{result.habitat}}</text>
        </view>
        <view class="characteristics" wx:if="result.characteristics && result.characteristics.length > 0">
          <text class="info-label">ç‰¹å¾</text>
          <view class="tags-container">
            <text wx:for="{{result.characteristics}}" wx:key="index" class="characteristic-tag">{{item}}</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 2. å¥åº·çŠ¶æ€å¡ç‰‡ -->
    <view class="result-card health-card" wx:if="result.health">
      <view class="card-header">
        <view class="card-icon health-icon">ğŸ’š</view>
        <view class="card-title-section">
          <text class="card-title">å¥åº·è¯„ä¼°</text>
          <view class="health-score" wx:if="result.healthScore">
            <text class="score-text">{{result.healthScore}}/100</text>
          </view>
        </view>
      </view>
      <view class="card-content">
        <view class="info-item primary">
          <view class="health-status {{result.health === 'å¥åº·' ? 'healthy' : 'unhealthy'}}">
            <text class="status-text">{{result.health}}</text>
          </view>
        </view>
        <view class="info-item" wx:if="result.disease && result.disease !== 'æ— '">
          <text class="info-label">ç–¾ç—…çŠ¶æ€</text>
          <text class="info-value">{{result.disease}}</text>
        </view>
        <view class="diseases-list" wx:if="result.diseases && result.diseases.length > 0">
          <text class="info-label">æ£€æµ‹åˆ°çš„ç–¾ç—…</text>
          <view class="disease-items">
            <view wx:for="{{result.diseases}}" wx:key="index" class="disease-item">
              <text class="disease-name">{{item}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- 3. æ²»ç–—å»ºè®®å¡ç‰‡ -->
    <view class="result-card treatment-card" wx:if="result.treatment">
      <view class="card-header">
        <view class="card-icon treatment-icon">ğŸ’¡</view>
        <view class="card-title-section">
          <text class="card-title">é¥²å…»å»ºè®®</text>
        </view>
      </view>
      <view class="card-content">
        <view class="treatment-content">
          <text class="treatment-text">{{result.treatment}}</text>
        </view>
      </view>
    </view>

    <!-- 4. è§†é¢‘åˆ†æå¡ç‰‡ (ä»…è§†é¢‘æ—¶æ˜¾ç¤º) -->
    <view class="result-card video-card" wx:if="mediaType === 'video' && result.videoAnalysis">
      <view class="card-header">
        <view class="card-icon video-icon">ğŸ“¹</view>
        <view class="card-title-section">
          <text class="card-title">è§†é¢‘åˆ†æ</text>
        </view>
      </view>
      <view class="card-content">
        <view class="info-item" wx:if="result.videoAnalysis.duration">
          <text class="info-label">æ—¶é•¿</text>
          <text class="info-value">{{result.videoAnalysis.duration}} ç§’</text>
        </view>
        <view class="info-item" wx:if="result.videoAnalysis.advice">
          <text class="info-label">åˆ†æå»ºè®®</text>
          <text class="info-value">{{result.videoAnalysis.advice}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="action-btn primary-btn" bindtap="saveResult">
      <text class="btn-icon">ğŸ’¾</text>
      <text class="btn-text">ä¿å­˜ç»“æœ</text>
    </button>
    <button class="action-btn secondary-btn" bindtap="reselect">
      <text class="btn-icon">ğŸ”„</text>
      <text class="btn-text">é‡æ–°åˆ†æ</text>
    </button>
  </view>
</view>